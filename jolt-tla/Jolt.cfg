\* TLC Configuration for Jolt Continuation Specification
\* Run: java -jar tla2tools.jar -config Jolt.cfg MC_Jolt.tla -workers auto
\*
\* Author: Charles Hoskinson
\* Copyright: 2026 Charles Hoskinson
\* License: Apache 2.0

\* ============================================================================
\* SPECIFICATION
\* ============================================================================

SPECIFICATION ModelSpec

\* Disable deadlock checking - the spec terminates at phase="complete" or "failed"
CHECK_DEADLOCK FALSE

\* ============================================================================
\* CONSTANTS
\* ============================================================================

\* Execution bounds (small for TLC tractability)
CONSTANTS
    CHUNK_MAX_STEPS = 2
    MAX_CHUNKS = 3
    NUM_REGISTERS = 32

\* Field arithmetic bounds (abstracted for TLC)
\* NOTE: U64_TLC_BOUND must be >= 131072 to accommodate IO region addresses
CONSTANTS
    FR_MODULUS = 1000000
    FR_TLC_BOUND = 131072
    U64_TLC_BOUND = 131072

\* Memory bounds
CONSTANTS
    PAGE_INDEX_TLC_BOUND = 4
    MAX_DIRTY_PAGES = 2

\* Transcript bounds
CONSTANTS
    MAX_ABSORPTIONS = 4

\* VM execution configuration
CONSTANTS
    STEP_FN <- ModelStepFn
    ENTRY_POINT = 4096
    RW_REGION_BASE = 0
    RW_REGION_SIZE = 65536
    IO_REGION_BASE = 65536
    IO_REGION_SIZE = 8192

\* SMT default hashes (model operator from MC_Jolt)
CONSTANTS
    DefaultHashes <- ModelDefaultHashes

\* Hash function models
CONSTANTS
    TAG_STRINGS <- SMOKE_TAG_STRINGS
    PoseidonHashBytes <- ModelPoseidonHashBytes
    PoseidonHashFr2 <- ModelPoseidonHashFr2
    SHA256Hash <- ModelSHA256Hash

\* ============================================================================
\* INVARIANTS
\* ============================================================================

\* All invariants combined
INVARIANT AllInvariants

\* ============================================================================
\* STATE CONSTRAINT
\* ============================================================================

CONSTRAINT StateConstraint

\* ============================================================================
\* NOTES
\* ============================================================================

\* To run TLC:
\*   java -jar tla2tools.jar -config Jolt.cfg JoltContinuations.tla -workers auto
\*
\* Expected output:
\*   Model checking completed. No error has been found.
\*
\* For syntax check only:
\*   java -cp tla2tools.jar tla2sany.SANY JoltContinuations.tla
